-- auto-generated definition
create table p_sku
(
    id                      bigint auto_increment comment '主键'
        primary key,
    product_id              bigint                                not null comment '商品ID',
    number                  varchar(20)                           null comment 'SKU 编码',
    name                    varchar(80)                           null comment 'SKU名称（商品名  通用名  规格）',
    packing_spec            varchar(100)                          null comment '包装规格(0.25g*12片*2板/盒)',
    packing_unit_number     double(10, 2)                         null comment '单位包装规格数量（24）',
    spec_unit               varchar(100)                          null comment '规格单位（板）',
    spec_value              int                                   null comment '规格值',
    total_sale              int(10)     default 0                 not null comment '累计售出',
    sale_price              int(10)                               not null comment '售价(分)',
    weight                  int(5)      default 0                 null comment '重量(克)',
    status                  int(1)      default 0                 not null comment '状态(0:下架,1:正常)',
    default_sku             int(1)      default 1                 not null comment '是否默认  0：是  1：否',
    inventory_warning_value int         default 0                 null comment '库存预警值',
    created_at              datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    created_by              varchar(40) default 'system'          not null comment '创建人',
    changed_at              datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '修改时间',
    changed_by              varchar(40) default 'system'          not null comment '修改人',
    version                 int(10)     default 0                 not null comment '乐观锁',
    default_usage           tinyint(1)  default 0                 not null comment '默认用法用量：0.未配置 1.已配置',
    safe_usage              tinyint(1)  default 0                 not null comment '安全用法用量：0.未配置 1.已配置',
    last_config_time        datetime                              null comment '最后配置时间',
    drug_name               varchar(200)                          null comment '药品名',
    common_name             varchar(200)                          null comment '通用名',
    specification           varchar(500)                          null comment '规格',
    product_import_id       varchar(20)                           null comment '导入商品编号（货号）',
    import_code             varchar(50)                           null comment '导入商品编码（69码）',
    constraint number
        unique (number)
)
    comment '单品表' engine = InnoDB
                  collate = utf8mb4_bin;

